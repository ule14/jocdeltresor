<html>
<head>
<title>Troba el tresor perdut!</title>
</head>

<body>
<h1 id="heading">Troba el tresor perdut!</h1>

<img id="map" width=800 height=800
src="https://images.ecestaticos.com/K4PNDWtrmXHSAseY0nj80jHYODU=/0x0:2272x1544/1200x900/filters:fill(white):format(jpg)/f.elconfidencial.com%2Foriginal%2F13c%2Fa66%2F32e%2F13ca6632e9d7ad73bc36300801fcaeee.jpg">

<p id="distance"></p>

<script src="https://code.jquery.com/jquery-2.1.0.js"></script>

<script>
//triar un numero del 0 al tamany
var getRandomNumber = function (size) {
return Math.floor(Math.random() * size);
};

//calcular distancia entre el click i l'objectiu
var getDistance = function (event,target) {
var diffX = event.offsetX - target.x;
var diffY = event.offsetY - target.y;
return Math.sqrt((diffX * diffX) + (diffY * diffY));
};

//tenir un av√≠s que et mostri la distancia
var getDistanceHint = function (distance) {
if (distance < 20) {
return "t'estas cremant!!";
} else if (distance < 30) {
return "molt calent";
} else if (distance < 60) {
return "calent";
} else if (distance < 100) {
return "comences a tenir calor";
} else if (distance < 200) {
return "fred";
} else if (distance < 400) {
return "massa fred";
} else {
return "congelat";
}
};

//variables
var width = 800;
var height = 800;
var clicks = 0;

//crear random objectiu
var target = {
x: getRandomNumber(width),
y: getRandomNumber(height)
};

//agregar el contador de clicks
$("#map").click(function (event) {
clicks++;

//trobar distancia entre el click i l'objectiu
var distance = getDistance(event, target);

//convertir distancia a pista
var distanceHint = getDistanceHint(distance);

//actualitzar la pista amb la distancia del nou click
$("#distance").text(distanceHint);

//si estan molt aprop, guanyen
if (distance < 10) {
alert("Has trobat el tresor en " + clicks + " clicks!!!");
}
});
</script>
</body>
</html>